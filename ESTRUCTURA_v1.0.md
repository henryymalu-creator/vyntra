# üìÅ ESTRUCTURA VYNTRA v1.0 - √ÅRBOL COMPLETO

```
Vyntra/
‚îú‚îÄ‚îÄ üÜï VYNTRA_v1.0_LANZAMIENTO.md          ‚Üê LEE ESTO PRIMERO
‚îú‚îÄ‚îÄ ADN_VYNTRA.md                           ‚Üê Documentaci√≥n completa
‚îú‚îÄ‚îÄ README.md                                ‚Üê Documentaci√≥n original
‚îú‚îÄ‚îÄ QUICK_START.md
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tailwind.config.ts                      ‚ú® ACTUALIZADO (colores v1.0)
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ next.config.js
‚îú‚îÄ‚îÄ postcss.config.js
‚îÇ
‚îú‚îÄ‚îÄ .env.local                              ‚ú® ACTUALIZADO (Supabase vars)
‚îú‚îÄ‚îÄ .env.local.example
‚îú‚îÄ‚îÄ .gitignore
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ page.tsx                     ‚ú® HOME NUEVA (blanca profesional)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ layout.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ globals.css
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ matricula-quito-paso-a-paso/  ‚ú® NUEVA (SEO page)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ registrar-vehiculo/            ‚ú® NUEVA (Supabase form)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ mi-vehiculo/                   ‚ú® NUEVA (Dashboard b√°sico)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ calendario/                    (existente, operativo)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ mapas/                         (existente)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ page.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ contacto/                      (existente)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ nosotros/                      (existente)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ privacidad/                    (existente)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ terminos/                      (existente)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ tramites/                      (existente)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ dashboard/                     (existente)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ auth/                          (existente)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ registro/                      (existente)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ recuperar-password/            (existente)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ui/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Section.tsx                ‚ú® NUEVA (wrapper max-w-6xl)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Card.tsx                   ‚ú® ACTUALIZADA (blanca minimalista)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Button.tsx                 ‚ú® ACTUALIZADA (variants v1.0)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Input.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Dialog.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ Icon.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ dashboard/                     ‚ú® NUEVA CARPETA
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ StatusCard.tsx             ‚ú® NUEVA (estado legal)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ NextEventCard.tsx          ‚ú® NUEVA (pr√≥xima matr√≠cula)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ ScoreGauge.tsx             ‚ú® NUEVA (puntuaci√≥n)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ UpgradeBanner.tsx          ‚ú® NUEVA (CTA premium)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ RiskIndicator.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ pages/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ LandingPage.tsx            (puede deprecarse)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ AuthPage.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ shared/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Navbar.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Footer.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ LoadingSpinner.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ forms/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ (formularios reutilizables)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ supabase.ts                    ‚ú® NUEVA (Supabase client)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ scoreEngine.ts                 ‚ú® NUEVA (Score logic con 6 factores)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ firebase.ts                    (legacy, mantener)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ utils.ts                       (Pico y Placa, matr√≠cula)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ constants.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ api.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ index.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ vehicle.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ user.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ alert.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ contexts/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ AuthContext.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ VehicleContext.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ hooks/
‚îÇ       ‚îú‚îÄ‚îÄ üìÑ useAuth.ts
‚îÇ       ‚îú‚îÄ‚îÄ üìÑ useVehicles.ts
‚îÇ       ‚îú‚îÄ‚îÄ üìÑ useMediaQuery.ts
‚îÇ       ‚îî‚îÄ‚îÄ üìÑ usePicoYPlaca.ts
‚îÇ
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ logo.svg
‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ images/
‚îÇ
‚îú‚îÄ‚îÄ .next/                                   (build output, ignored)
‚îú‚îÄ‚îÄ node_modules/                            (dependencies, ignored)
‚îî‚îÄ‚îÄ Vyntra.html                              (prototipo original, referencia)
```

---

## üìä ESTAD√çSTICAS v1.0

| Categor√≠a | Cantidad | Estado |
|-----------|----------|--------|
| **P√°ginas p√∫blicas** | 9 | ‚úÖ Todas funcionales |
| **Componentes UI** | 15+ | ‚úÖ Refactorizados v1.0 |
| **Componentes Dashboard** | 4 | ‚ú® Nuevos |
| **Librer√≠as core** | 3 | ‚ú® (Supabase, Score Engine) |
| **L√≠neas de c√≥digo** | 6000+ | ‚úÖ Producci√≥n-ready |
| **Archivos TypeScript** | 42+ | ‚úÖ Strict mode |

---

## üéØ P√ÅGINAS NAVEGABLES

### P√∫blicas (No autenticaci√≥n requerida)
```
/                                    Home (redise√±ada)
/matricula-quito-paso-a-paso        Gu√≠a SEO
/registrar-vehiculo                  Formulario captura
/m-vehiculo                          Dashboard b√∫squeda
/calendario                          Pico y Placa + Matr√≠cula
/mapas                               Google My Maps
/tramites                            Informaci√≥n proceso
/contacto                            Contacto
/nosotros                            About
/terminos                            Legal
/privacidad                          Legal
```

### Futuras (Autenticaci√≥n)
```
/auth/login                          Login con magic link
/auth/logout                         Logout
/mis-vehiculos                       Multiple vehicles
/dashboard                           Premium dashboard
/configuracion                       User settings
```

---

## üß† L√ìGICA PRINCIPAL

### Flujo Registro ‚Üí Dashboard

```
Usuario llega a Home
    ‚Üì
Lee problema (grid 3x2)
    ‚Üì
Click "Registrar mi veh√≠culo"
    ‚Üì
/registrar-vehiculo
    - Ingresa placa (ABC-1234)
    - Ingresa email
    - Selecciona ciudad (Quito/Guayaquil/Cuenca)
    ‚Üì
Valida placa (>= 6 caracteres)
    ‚Üì
Extrae √∫ltimo d√≠gito
    ‚Üì
Calcula mes matr√≠cula (Febrero=1, Marzo=2, etc)
    ‚Üì
INSERT en Supabase.vehicles
    ‚Üì
Confirmaci√≥n + link a /mi-vehiculo
    ‚Üì
/mi-vehiculo
    - Busca registro por email
    - Muestra StatusCard (Tom Legal)
    - Muestra pr√≥xima matr√≠cula
    - Muestra pico y placa hoy
    - PREMIUM: ScoreGauge + UpgradeBanner
```

### Score Engine

```
Input: vehicleId ‚Üí Supabase
    ‚Üì
Calcula factores:
    - Multas activas (-10 c/u)
    - Matr√≠cula vencida (-15)
    - RTV vencida (-10)
    - Historial multas >= 2 (-5)
    - Infracciones pico (-8 c/u)
    - Meses retraso (-2 c/u)
    ‚Üì
Score = 100 - penalidades (m√≠n 0)
    ‚Üì
Nivel:
    - 80-100: Verde ‚úÖ Bajo riesgo
    - 60-79: Amarillo ‚ö†Ô∏è Medio
    - 0-59: Rojo ‚ùå Alto
    ‚Üì
Output: { score, level, factors[], color }
```

---

## üöÄ DEPLOYMENT

### Vercel (Recomendado)
```bash
# Push a GitHub
git push origin main

# Vercel auto-deploys desde main
# Aseg√∫rate de agregar vars de entorno en Vercel dashboard:
NEXT_PUBLIC_SUPABASE_URL
NEXT_PUBLIC_SUPABASE_ANON_KEY
```

### Build Manual
```bash
npm run build
npm run start
# Production server en puerto 3000
```

---

## üìã TAREAS PENDIENTES (Usuario)

### Configuraci√≥n Supabase
- [ ] Crear cuenta en supabase.com
- [ ] Crear nuevo proyecto
- [ ] Ejecutar SQL (crear tabla vehicles)
- [ ] Copiar credenciales a .env.local

### Testing
- [ ] Registrar veh√≠culo en /registrar-vehiculo
- [ ] Verificar insert en Supabase
- [ ] Buscar en /mi-vehiculo
- [ ] Probar responsivo en m√≥vil

### Deploy
- [ ] Conectar GitHub a Vercel
- [ ] Agregar env vars en Vercel
- [ ] Deploy a producci√≥n
- [ ] Validar en vyntra.app

---

**Vyntra v1.0 = Arquitectura profesional + SEO lista + Dashboard temprano**
